---
marp: true
theme: default
paginate: true
math: katex
---

<style>
section {
  font-family: "Microsoft YaHei", "PingFang SC", "Source Han Sans", "Noto Sans CJK SC", sans-serif;
}
</style>

## <!-- fit -->ğŸ“˜ ç¬¬8è¬›ï¼šéæ•™å¸«ãªã—å­¦ç¿’-2

---

# ğŸ“ éæ•™å¸«ãªã—å­¦ç¿’å®Ÿè·µ Â· DBSCAN ã‚¯ãƒ©ã‚¹ã‚¿ãƒªãƒ³ã‚°

---

## 1. ãªãœ DBSCAN ã‚’ä½¿ã†ã®ã‹ï¼Ÿ

* **K-Means** ã‚„ **éšå±¤å‹ã‚¯ãƒ©ã‚¹ã‚¿ãƒªãƒ³ã‚°** ã¯ã‚¯ãƒ©ã‚¹ã‚¿æ•° $K$ ã‚’æŒ‡å®šã™ã‚‹å¿…è¦ãŒã‚ã‚Šã€ãƒã‚¤ã‚ºã«æ•æ„Ÿã§ã€å‡¸å½¢ã‚¯ãƒ©ã‚¹ã‚¿ã—ã‹ç™ºè¦‹ã§ãã¾ã›ã‚“ã€‚
* **DBSCAN**ï¼ˆDensity-Based Spatial Clustering of Applications with Noiseï¼‰ã¯ãƒ‡ãƒ¼ã‚¿ç‚¹ã®å¯†åº¦ã«åŸºã¥ãã€ãƒã‚¤ã‚ºã‚’è‡ªå‹•ã§è­˜åˆ¥ã—ã€ä»»æ„å½¢çŠ¶ã®ã‚¯ãƒ©ã‚¹ã‚¿ã‚’ç™ºè¦‹ã§ãã¾ã™ã€‚

> ğŸ”‘ é©ç”¨ã‚·ãƒ¼ãƒ³ï¼š
>
> * è¤‡é›‘ãªã‚¯ãƒ©ã‚¹ã‚¿å½¢çŠ¶
> * ãƒã‚¤ã‚ºã‚„å¤–ã‚Œå€¤ãŒå¤šã„
> * äº‹å‰ã«ã‚¯ãƒ©ã‚¹ã‚¿æ•°ãŒä¸æ˜

---

## 2. ã‚³ã‚¢æ¦‚å¿µã¨ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿

1. **ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿**

   * $
     \varepsilon$ï¼ˆepsï¼‰ï¼šãƒã‚¤ãƒãƒ¼åŠå¾„
   * $\mathit{MinPts}$ï¼šæœ€å°ã‚µãƒ³ãƒ—ãƒ«æ•°ã®é–¾å€¤

2. **Îµ-ãƒã‚¤ãƒãƒ¼ï¼ˆÎµ-Neighborhoodï¼‰**
   ãƒ‡ãƒ¼ã‚¿ç‚¹ $x\_i$ ã«å¯¾ã—ã€

   $$
   N_{\varepsilon}(x_i) = \{\,x_j \mid \|x_j - x_i\| \le \varepsilon\}\,.
   $$

3. **ã‚³ã‚¢ç‚¹ï¼ˆCore Pointï¼‰**
   $|N\_{\varepsilon}(x\_i)| \ge \mathit{MinPts}$ ã®å ´åˆã€$x\_i$ ã¯ã‚³ã‚¢ç‚¹ã€‚

---

4. **ãƒœãƒ¼ãƒ€ãƒ¼ç‚¹ï¼ˆBorder Pointï¼‰**
   $|N\_{\varepsilon}(x\_i)| < \mathit{MinPts}$ ã ãŒã€$x\_i$ ãŒã‚ã‚‹ã‚³ã‚¢ç‚¹ã® Îµ-ãƒã‚¤ãƒãƒ¼å†…ã«ã‚ã‚‹å ´åˆã€ãƒœãƒ¼ãƒ€ãƒ¼ç‚¹ã€‚

5. **ãƒã‚¤ã‚ºç‚¹ï¼ˆNoiseï¼‰**
   ã‚³ã‚¢ç‚¹ã§ã‚‚ãªãã€ã„ã‹ãªã‚‹ã‚³ã‚¢ç‚¹ã®ãƒã‚¤ãƒãƒ¼å†…ã«ã‚‚å«ã¾ã‚Œãªã„ç‚¹ã€‚

6. **ç›´æ¥çš„ãªå¯†åº¦åˆ°é”ï¼ˆDirectly Density-Reachableï¼‰**
   $x\_j$ ãŒ $x\_i$ ã® Îµ-ãƒã‚¤ãƒãƒ¼å†…ã‹ã¤ $x\_i$ ãŒã‚³ã‚¢ç‚¹ã®å ´åˆï¼š

   $$
   x_j \in N_{\varepsilon}(x_i)
   \quad\text{ã‹ã¤}\quad
   |N_{\varepsilon}(x_i)| \ge \mathit{MinPts}.
   $$

---

7. **å¯†åº¦åˆ°é”ï¼ˆDensity-Reachableï¼‰**
   ã‚³ã‚¢ç‚¹ã®é€£é– $x\_i = p\_1, p\_2, \dots, p\_k = x\_j$ ãŒå­˜åœ¨ã—ã€å„ã‚¹ãƒ†ãƒƒãƒ—ãŒç›´æ¥çš„ã«å¯†åº¦åˆ°é”å¯èƒ½ï¼š

   $$
   p_{m+1} \in N_{\varepsilon}(p_m),\quad |N_{\varepsilon}(p_m)| \ge \mathit{MinPts}.
   $$

8. **å¯†åº¦é€£çµï¼ˆDensity-Connectedï¼‰**
   ã‚ã‚‹ã‚³ã‚¢ç‚¹ $p$ ãŒå­˜åœ¨ã—ã€$x\_i$ ã¨ $x\_j$ ã®ä¸¡æ–¹ãŒ $p$ ã«å¯†åº¦åˆ°é”å¯èƒ½ãªå ´åˆã€‚

---

## 3. ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ã®æµã‚Œã¨æ“¬ä¼¼ã‚³ãƒ¼ãƒ‰

**å…¥åŠ›**ï¼šãƒ‡ãƒ¼ã‚¿ã‚»ãƒƒãƒˆ $X$, åŠå¾„ $\varepsilon$, æœ€å°ã‚µãƒ³ãƒ—ãƒ«æ•° $\mathit{MinPts}$

**åˆæœŸåŒ–**ï¼šå…¨ã¦ã®ç‚¹ã‚’ã€Œæœªè¨ªå•ã€ã¨ãƒãƒ¼ã‚¯ã€‚

---

```text
for each point x in X:
  if x ã¯æ—¢è¨ªå•: continue
  x ã‚’æ—¢è¨ªå•ã«ãƒãƒ¼ã‚¯
  N = N_Îµ(x)  # Îµ-ãƒã‚¤ãƒãƒ¼ã‚’è¨ˆç®—
  if |N| < MinPts:
    x ã‚’ãƒã‚¤ã‚ºã«ãƒãƒ¼ã‚¯
  else:
    æ–°ã—ã„ã‚¯ãƒ©ã‚¹ã‚¿ C ã‚’ä½œæˆ
    x ã‚’ C ã«è¿½åŠ 
    seeds = N \ {x}
    for each point y in seeds:
      if y ã¯æœªè¨ªå•:
        y ã‚’æ—¢è¨ªå•ã«ãƒãƒ¼ã‚¯
        M = N_Îµ(y)
        if |M| â‰¥ MinPts:
          seeds = seeds âˆª (M \ seeds)
      if y ãŒã¾ã ã©ã®ã‚¯ãƒ©ã‚¹ã‚¿ã«ã‚‚å±ã—ã¦ã„ãªã„:
        y ã‚’ C ã«è¿½åŠ 
```

* **ã‚³ã‚¢ã‚¢ã‚¤ãƒ‡ã‚¢**ï¼šå„ã‚³ã‚¢ç‚¹ã‹ã‚‰åˆ°é”å¯èƒ½é ˜åŸŸã‚’æ‹¡å¼µã—ã€ã“ã‚Œä»¥ä¸Šæ–°ã—ã„ç‚¹ãŒè¿½åŠ ã•ã‚Œãªããªã‚‹ã¾ã§ç¶šã‘ã‚‹ã€‚

---

## 4. ä¸»è¦æ¼”ç®—å¼ã¾ã¨ã‚

| æ¦‚å¿µ       | å…¬å¼ï¼å®šç¾© |
| -------- | ------------------------------------------------------------ |
| Îµ-ãƒã‚¤ãƒãƒ¼   | $N_\varepsilon(x) = \{\,y \mid \|y - x\| \le \varepsilon\}$ |
| ã‚³ã‚¢ç‚¹åˆ¤å®š    | $\lvert N_\varepsilon(x)\rvert \ge \mathit{MinPts}$          |
| ç›´æ¥çš„å¯†åº¦åˆ°é”  | $y \in N_\varepsilon(x)$ ä¸ $x$ æ˜¯æ ¸å¿ƒç‚¹                          |
| å¯†åº¦åˆ°é”ï¼ˆé€£é–ï¼‰ | å­˜åœ¨é“¾ $p_1,\dots,p_k$ ä¸”æ¯æ­¥ç›´æ¥å¯†åº¦å¯è¾¾                                |
| å¯†åº¦é€£çµ     | å­˜åœ¨æ ¸å¿ƒç‚¹ $p$ï¼Œä½¿ $x_i$ å’Œ $x_j$ éƒ½å¯†åº¦å¯è¾¾äº $p$                         |

---

## 5. ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿é¸ã³

* **Îµ**

  * å°ã•ã™ãã‚‹ï¼šã»ã¨ã‚“ã©ã®ç‚¹ãŒãƒã‚¤ã‚ºæ‰±ã„
  * å¤§ãã™ãã‚‹ï¼šå…¨ã¦ã®ç‚¹ãŒ1ã¤ã®ã‚¯ãƒ©ã‚¹ã‚¿ã«

* **MinPts**

  * é€šå¸¸ â‰¥ ãƒ‡ãƒ¼ã‚¿æ¬¡å…ƒ + 1
  * å€¤ãŒå¤§ãã„ã»ã©ã‚¯ãƒ©ã‚¹ã‚¿ã¯ã‚ˆã‚Šé«˜å¯†åº¦ã«ãªã‚‹

---

## 6. sklearn å®Ÿè·µãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼

```python
from sklearn.cluster import DBSCAN

db = DBSCAN(eps=0.5, min_samples=5, metric='euclidean')
labels = db.fit_predict(X)

# labels == -1 ã¯ãƒã‚¤ã‚ºç‚¹ã‚’ç¤ºã™
```

* `eps` ãŒ Îµ ã«å¯¾å¿œ
* `min_samples` ãŒ MinPts ã«å¯¾å¿œ
* `metric` ã¯ãƒ¦ãƒ¼ã‚¯ãƒªãƒƒãƒ‰è·é›¢ã‚„ãƒãƒ³ãƒãƒƒã‚¿ãƒ³è·é›¢ãªã©ã‚’é¸æŠå¯èƒ½

---

## 7. é•·æ‰€ã¨çŸ­æ‰€ã€å®Ÿè·µã‚¬ã‚¤ãƒ‰

| é•·æ‰€                       | çŸ­æ‰€                     |
| ------------------------ | ---------------------- |
| ã‚¯ãƒ©ã‚¹ã‚¿æ•°ã‚’è‡ªå‹•åˆ¤å®šã€$K$ ã®äº‹å‰è¨­å®šä¸è¦ | Îµ ã¨ MinPts ã®é¸æŠã«æ•æ„Ÿ      |
| ä»»æ„å½¢çŠ¶ã®ã‚¯ãƒ©ã‚¹ã‚¿ã‚’ç™ºè¦‹å¯èƒ½           | ã‚¹ãƒ‘ãƒ¼ã‚¹ãªé«˜æ¬¡å…ƒãƒ‡ãƒ¼ã‚¿ã§ã¯ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿é¸å®šå›°é›£ |
| ãƒã‚¤ã‚ºã‚’è‡ªå‹•ã§é™¤å»                | è¨ˆç®—ã‚³ã‚¹ãƒˆãŒé«˜ãã€å¤§è¦æ¨¡ãƒ‡ãƒ¼ã‚¿ã§ã¯åŠ é€ŸãŒå¿…è¦ |

---

**å®Ÿè·µã‚¬ã‚¤ãƒ‰**ï¼š

1. **k-distance plot**ï¼ˆç¬¬ $k$ æœ€è¿‘å‚è·é›¢ï¼‰ã§ eps ã®å€™è£œã‚’æ¢ã™ã€‚
2. é«˜æ¬¡å…ƒãƒ‡ãƒ¼ã‚¿ã§ã¯**æ¬¡å…ƒå‰Šæ¸›**ã‚„**ç‰¹å¾´é¸æŠ**ã‚’å…ˆè¡Œã€‚
3. ã‚¯ãƒ©ã‚¹ã‚¿å¯†åº¦ãŒå¤§ããç•°ãªã‚‹å ´åˆã¯ã€éšå±¤çš„ã¾ãŸã¯ãƒ­ãƒ¼ã‚«ãƒ«ãªãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿èª¿æ•´ã‚’æ¤œè¨ã€‚
